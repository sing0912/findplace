# Develop - 영구 개발 지침

## 개요

이 폴더는 각 도메인별 **영구 개발 지침**을 관리합니다.
모든 구현은 해당 도메인의 지침을 따라야 하며, 지침과 코드는 항상 일치해야 합니다.

---

## 디렉토리 구조

```
docs/develop/
├── README.md                # 이 파일
├── _common/                 # 공통 지침
│   ├── README.md
│   ├── api-convention.md
│   ├── db-convention.md
│   ├── error-handling.md
│   └── security.md
│
├── auth/                    # 인증/인가
├── user/                    # 사용자 관리
├── company/                 # 장례업체
├── supplier/                # 공급사
├── pet/                     # 반려동물
├── product/                 # 상품
├── inventory/               # 재고
├── reservation/             # 예약 (장례)
├── order/                   # 주문 (굿즈)
├── delivery/                # 배송
├── payment/                 # 결제
├── settlement/              # 정산
├── columbarium/             # 봉안당
├── memorial/                # 추모관
├── board/                   # 게시판
├── notification/            # 알림/SMS/이메일
├── schedule/                # 일정
├── file/                    # 파일/미디어
└── dashboard/               # 대시보드/통계
```

---

## 지침 구조

각 도메인 폴더는 다음 구조를 따릅니다:

```
{domain}/
├── README.md                # 메인 지침 (필수)
├── {feature}.md             # 서브 지침 (단일 파일)
└── {feature}/               # 서브 지침 (디렉토리 - 분할 시)
    ├── README.md
    └── {section}.md
```

---

## 분할 규칙

- 단일 파일 **1,500줄 이상** → 디렉토리로 분할
- 서브 기능 **5개 이상** → 디렉토리로 분할 고려

---

## 지침 작성 가이드

### 메인 지침 (README.md) 포함 내용

1. **개요**: 도메인 설명
2. **엔티티**: 데이터 모델
3. **API 목록**: 엔드포인트 요약
4. **비즈니스 규칙**: 핵심 로직
5. **서브 지침 목록**: 링크

### 서브 지침 포함 내용

1. **목적**: 이 기능의 목적
2. **API 스펙**: 상세 요청/응답
3. **비즈니스 로직**: 처리 흐름
4. **예외 처리**: 에러 케이스
5. **테스트 케이스**: 검증 항목

---

## 지침 템플릿

### 메인 지침 템플릿

```markdown
# {도메인명}

## 개요
{도메인 설명}

## 엔티티

### {Entity}
| 필드 | 타입 | 설명 | 제약조건 |
|------|------|------|----------|
| id | Long | PK | |
| ... | ... | ... | ... |

## API 목록

| Method | Endpoint | 설명 |
|--------|----------|------|
| GET | / | 목록 조회 |
| POST | / | 생성 |
| ... | ... | ... |

## 비즈니스 규칙
1. {규칙1}
2. {규칙2}

## 서브 지침
- [{기능1}](./{기능1}.md)
- [{기능2}](./{기능2}.md)
```

### 서브 지침 템플릿

```markdown
# {기능명}

## 목적
{이 기능의 목적}

## API 스펙

### {Method} {Endpoint}

**Request**
```json
{
  "field": "value"
}
```

**Response**
```json
{
  "field": "value"
}
```

## 비즈니스 로직
1. {단계1}
2. {단계2}

## 예외 처리
| 코드 | 메시지 | 조건 |
|------|--------|------|
| 400 | ... | ... |

## 테스트 케이스
- [ ] {케이스1}
- [ ] {케이스2}
```

---

## 워크플로우

### 구현 전
1. 해당 도메인의 `README.md` 읽기
2. 관련 서브 지침 읽기
3. `_common/` 공통 지침 확인

### 구현 후
1. 지침 vs 코드 일치 여부 검증
2. 불일치 시: 지침 업데이트 또는 코드 수정
3. 테스트 케이스 통과 확인

---

## 도메인별 상태

| 도메인 | 메인 지침 | 서브 지침 | 구현 | 검증 |
|--------|-----------|-----------|------|------|
| _common | ✅ | ✅ | ⬜ | ⬜ |
| test-scenario | ✅ | 🔄 | ⬜ | ⬜ |
| auth | ✅ | ⬜ | ⬜ | ⬜ |
| user | ✅ | ⬜ | ⬜ | ⬜ |
| company | ✅ | ⬜ | ⬜ | ⬜ |
| supplier | ✅ | ⬜ | ⬜ | ⬜ |
| pet | ✅ | ⬜ | ⬜ | ⬜ |
| product | ✅ | ⬜ | ⬜ | ⬜ |
| inventory | ✅ | ⬜ | ⬜ | ⬜ |
| reservation | ✅ | ⬜ | ⬜ | ⬜ |
| order | ✅ | ⬜ | ⬜ | ⬜ |
| delivery | ✅ | ⬜ | ⬜ | ⬜ |
| payment | ✅ | ⬜ | ⬜ | ⬜ |
| settlement | ✅ | ⬜ | ⬜ | ⬜ |
| columbarium | ✅ | ⬜ | ⬜ | ⬜ |
| memorial | ✅ | ⬜ | ⬜ | ⬜ |
| board | ✅ | ⬜ | ⬜ | ⬜ |
| notification | ✅ | ⬜ | ⬜ | ⬜ |
| schedule | ✅ | ⬜ | ⬜ | ⬜ |
| file | ✅ | ⬜ | ⬜ | ⬜ |
| dashboard | ✅ | ⬜ | ⬜ | ⬜ |

✅ 완료 | 🔄 진행중 | ⬜ 미시작

---

## 참고 사이트

| 사이트 | URL | 설명 |
|--------|-----|------|
| 공공데이터포털 | https://www.data.go.kr | 공공기관 Open API (장례식장 정보 등) |
| Google Cloud Console | https://console.cloud.google.com | Google Maps API 키 발급 |
