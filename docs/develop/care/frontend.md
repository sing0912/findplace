# ëŒë´„ í”„ë¡ íŠ¸ì—”ë“œ UI ì§€ì¹¨

**ìµœì¢… ìˆ˜ì •ì¼:** 2026-02-07
**ìƒíƒœ:** í™•ì •

---

## 1. íŒŒì¼ êµ¬ì¡°

```
frontend/src/
â”œâ”€â”€ types/care.ts                    # íƒ€ì… ì •ì˜
â”œâ”€â”€ api/care.ts                      # API ì„œë¹„ìŠ¤
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useCareJournal.ts            # ëŒë´„ ì¼ì§€ ì¡°íšŒ/ê´€ë¦¬ í›…
â”‚   â”œâ”€â”€ useWalkTracking.ts           # ì‚°ì±… íŠ¸ë˜í‚¹ í›…
â”‚   â””â”€â”€ useWalkLive.ts               # ì‹¤ì‹œê°„ GPS êµ¬ë… í›…
â”œâ”€â”€ components/care/
â”‚   â”œâ”€â”€ JournalTimeline.tsx          # ëŒë´„ ì¼ì§€ íƒ€ì„ë¼ì¸ (ê³µí†µ)
â”‚   â”œâ”€â”€ JournalEntryCard.tsx         # íƒ€ì„ë¼ì¸ í•­ëª© ì¹´ë“œ
â”‚   â”œâ”€â”€ JournalMediaGallery.tsx      # ë¯¸ë””ì–´ ê°¤ëŸ¬ë¦¬ (ì‚¬ì§„/ë™ì˜ìƒ)
â”‚   â”œâ”€â”€ EntryTypeSelector.tsx        # í•­ëª© ìœ í˜• ì„ íƒ ë°”í…€ì‹œíŠ¸ (ì‹œí„°)
â”‚   â”œâ”€â”€ EntryForm.tsx                # í•­ëª© ì…ë ¥ í¼ (ì‹œí„°)
â”‚   â”œâ”€â”€ MediaUploader.tsx            # ë¯¸ë””ì–´ ì—…ë¡œë“œ (ì‹œí„°)
â”‚   â”œâ”€â”€ WalkMap.tsx                  # ì‚°ì±… ì§€ë„ (ê²½ë¡œ í‘œì‹œ)
â”‚   â”œâ”€â”€ WalkLiveMap.tsx              # ì‹¤ì‹œê°„ ì‚°ì±… ì§€ë„ (ë°˜ë ¤ì¸)
â”‚   â”œâ”€â”€ WalkControls.tsx             # ì‚°ì±… ì‹œì‘/ì¢…ë£Œ ë²„íŠ¼ (ì‹œí„°)
â”‚   â”œâ”€â”€ WalkSummary.tsx              # ì‚°ì±… ìš”ì•½ (ê±°ë¦¬, ì‹œê°„)
â”‚   â””â”€â”€ CompleteSummaryForm.tsx      # ëŒë´„ ì™„ë£Œ ìš”ì•½ ì…ë ¥ (ì‹œí„°)
â””â”€â”€ pages/
    â”œâ”€â”€ care/
    â”‚   â”œâ”€â”€ PartnerCareJournalPage.tsx   # ì‹œí„° ëŒë´„ ì¼ì§€ ì‘ì„± í˜ì´ì§€
    â”‚   â”œâ”€â”€ PartnerWalkPage.tsx          # ì‹œí„° ì‚°ì±… íŠ¸ë˜í‚¹ í˜ì´ì§€
    â”‚   â”œâ”€â”€ CustomerCareViewPage.tsx     # ë°˜ë ¤ì¸ ëŒë´„ ì§„í–‰ í™•ì¸ í˜ì´ì§€
    â”‚   â””â”€â”€ CareHistoryPage.tsx          # ëŒë´„ íˆìŠ¤í† ë¦¬ (ì™„ë£Œëœ ì¼ì§€)
    â””â”€â”€ index.ts
```

---

## 2. ë¼ìš°íŒ…

| ê²½ë¡œ | ì»´í¬ë„ŒíŠ¸ | ì„¤ëª… | ê¶Œí•œ |
|------|----------|------|------|
| /partner/bookings/:bookingId/care | PartnerCareJournalPage | ì‹œí„° ëŒë´„ ì¼ì§€ ì‘ì„± | PARTNER |
| /partner/bookings/:bookingId/walk | PartnerWalkPage | ì‹œí„° ì‚°ì±… íŠ¸ë˜í‚¹ | PARTNER |
| /bookings/:bookingId/care | CustomerCareViewPage | ë°˜ë ¤ì¸ ëŒë´„ ì§„í–‰ í™•ì¸ | CUSTOMER |
| /bookings/:bookingId/care/history | CareHistoryPage | ëŒë´„ íˆìŠ¤í† ë¦¬ | CUSTOMER |

---

## 3. ì‹œí„° ëŒë´„ ì¼ì§€ ì‘ì„± (PartnerCareJournalPage)

### 3.1 ë ˆì´ì•„ì›ƒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ < ëŒë´„ ì¼ì§€          [ì‚°ì±…] [ì™„ë£Œ]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì˜ˆì•½ ì •ë³´ ìš”ì•½                       â”‚
â”‚ ì½©ì´(ë§í‹°ì¦ˆ) | ê¹€ë°˜ë ¤ ë‹˜ | ë°ì´ì¼€ì–´  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚ â”€â”€ 09:00 ëŒë´„ ì‹œì‘ â”€â”€              â”‚
â”‚                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ 10:00  ì‹ì‚¬ ê¸°ë¡              â”‚    â”‚
â”‚ â”‚ ì‚¬ë£Œ 1ì»µ ê¸‰ì—¬ ì™„ë£Œ. ì‹ìš• ì–‘í˜¸ â”‚    â”‚
â”‚ â”‚ [ì‚¬ì§„1] [ì‚¬ì§„2]              â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ 11:00  ë†€ì´/í™œë™              â”‚    â”‚
â”‚ â”‚ ê³µë†€ì´ 30ë¶„. ë§¤ìš° ì¦ê±°ì›Œí•¨.   â”‚    â”‚
â”‚ â”‚ [ë™ì˜ìƒ]                      â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ 14:00  ì»¨ë””ì…˜ ì²´í¬            â”‚    â”‚
â”‚ â”‚ í™œë ¥ ì¢‹ìŒ, ì‹ìš• ì •ìƒ          â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                     â”‚
â”‚ â”€â”€ í˜„ì¬ ì§„í–‰ ì¤‘ â”€â”€                 â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          [+ í•­ëª© ì¶”ê°€]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 í•­ëª© ì¶”ê°€ ë°”í…€ì‹œíŠ¸ (EntryTypeSelector)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            í•­ëª© ì¶”ê°€                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  ğŸ½ï¸  ì‹ì‚¬ ê¸°ë¡                      â”‚
â”‚  ğŸ’©  ë°°ë³€ ê¸°ë¡                      â”‚
â”‚  ğŸ¾  ë†€ì´/í™œë™                      â”‚
â”‚  ğŸ¦´  ê°„ì‹                           â”‚
â”‚  â¤ï¸  ì»¨ë””ì…˜ ì²´í¬                    â”‚
â”‚  ğŸ“  ììœ  ê¸°ë¡                      â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 í•­ëª© ì…ë ¥ í¼ (EntryForm)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ < ì‹ì‚¬ ê¸°ë¡                  [ì €ì¥] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚ ê¸°ë¡ ë‚´ìš©                           â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚                                 â”‚â”‚
â”‚ â”‚ (í…ìŠ¤íŠ¸ ì…ë ¥ ì˜ì—­, ìµœëŒ€ 1000ì) â”‚â”‚
â”‚ â”‚                                 â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                     â”‚
â”‚ ì‚¬ì§„/ë™ì˜ìƒ ì²¨ë¶€ (ìµœëŒ€ 10ê°œ)        â”‚
â”‚ [+] [ì‚¬ì§„1] [ì‚¬ì§„2]                â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.4 ëŒë´„ ì™„ë£Œ (CompleteSummaryForm)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          ëŒë´„ ì™„ë£Œ                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚ ëŒë´„ ìš”ì•½ ì½”ë©˜íŠ¸ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”.     â”‚
â”‚                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚                                 â”‚â”‚
â”‚ â”‚ (í…ìŠ¤íŠ¸ ì…ë ¥ ì˜ì—­, ìµœëŒ€ 2000ì) â”‚â”‚
â”‚ â”‚                                 â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                     â”‚
â”‚        [ëŒë´„ ì™„ë£Œí•˜ê¸°]              â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.5 ìƒíƒœ ì²˜ë¦¬

| ìƒíƒœ | UI |
|------|-----|
| ë¡œë”© | íƒ€ì„ë¼ì¸ ìŠ¤ì¼ˆë ˆí†¤ |
| ë¹ˆ ì¼ì§€ | "ëŒë´„ ì¼ì§€ë¥¼ ì‹œì‘í•˜ì„¸ìš”" + ì‹œì‘ ë²„íŠ¼ |
| ì—…ë¡œë“œ ì¤‘ | í”„ë¡œê·¸ë ˆìŠ¤ ë°” í‘œì‹œ |
| ì—ëŸ¬ | í† ìŠ¤íŠ¸ ì•Œë¦¼ |

---

## 4. ì‹œí„° ì‚°ì±… íŠ¸ë˜í‚¹ (PartnerWalkPage)

### 4.1 ë ˆì´ì•„ì›ƒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ < ì‚°ì±…                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚                                 â”‚â”‚
â”‚ â”‚         [ì§€ë„ ì˜ì—­]             â”‚â”‚
â”‚ â”‚      (ê²½ë¡œ ì‹¤ì‹œê°„ í‘œì‹œ)         â”‚â”‚
â”‚ â”‚                                 â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                     â”‚
â”‚  ê±°ë¦¬: 1.2km    ì‹œê°„: 25ë¶„          â”‚
â”‚  ì†ë„: 1.3m/s                       â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     [ì‚°ì±… ì‹œì‘] ë˜ëŠ” [ì‚°ì±… ì¢…ë£Œ]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 ì§€ë„ ì„¤ì •

- ì¹´ì¹´ì˜¤ë§µ ë˜ëŠ” ë„¤ì´ë²„ë§µ SDK ì‚¬ìš©
- ì‚°ì±… ê²½ë¡œ: íŒŒë€ìƒ‰ í´ë¦¬ë¼ì¸ (width: 4px)
- ì‹œì‘ì : ì´ˆë¡ìƒ‰ ë§ˆì»¤
- í˜„ì¬ ìœ„ì¹˜: íŒŒë€ìƒ‰ ì›í˜• ë§ˆì»¤ (í„ìŠ¤ ì• ë‹ˆë©”ì´ì…˜)
- ì¢…ë£Œì : ë¹¨ê°„ìƒ‰ ë§ˆì»¤ (ì‚°ì±… ì™„ë£Œ ì‹œ)

### 4.3 GPS ìˆ˜ì§‘

| ì„¤ì • | ê°’ |
|------|-----|
| ìˆ˜ì§‘ ê°„ê²© | 5ì´ˆ |
| ë°°ì¹˜ ì „ì†¡ | 10~20ê°œì”© |
| ì •í™•ë„ | HIGH_ACCURACY |
| ë°°í„°ë¦¬ ì ˆì•½ | ë°±ê·¸ë¼ìš´ë“œ ëª¨ë“œ ì§€ì› |

### 4.4 ìƒíƒœ ì²˜ë¦¬

| ìƒíƒœ | UI |
|------|-----|
| ëŒ€ê¸° | "ì‚°ì±… ì‹œì‘" ë²„íŠ¼ í™œì„±í™” |
| íŠ¸ë˜í‚¹ | ì§€ë„ ê²½ë¡œ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ + "ì‚°ì±… ì¢…ë£Œ" ë²„íŠ¼ |
| ì™„ë£Œ | ì‚°ì±… ìš”ì•½ ì •ë³´ í‘œì‹œ |
| GPS ì‹ í˜¸ ì—†ìŒ | "GPS ì‹ í˜¸ë¥¼ ì°¾ëŠ” ì¤‘..." ì•ˆë‚´ |

---

## 5. ë°˜ë ¤ì¸ ëŒë´„ ì§„í–‰ í™•ì¸ (CustomerCareViewPage)

### 5.1 ë ˆì´ì•„ì›ƒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ < ëŒë´„ ì§„í–‰                 [ì±„íŒ…]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì‹œí„° ì •ë³´                           â”‚
â”‚ [í”„ë¡œí•„] í•´í”¼ë…ì‹œí„° | ì§„í–‰ ì¤‘       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ì¼ì§€] [ì‚°ì±…]                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚ <<< ì¼ì§€ íƒ­ ì„ íƒ ì‹œ >>>            â”‚
â”‚                                     â”‚
â”‚ â”€â”€ 09:00 ëŒë´„ ì‹œì‘ â”€â”€              â”‚
â”‚                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ 10:00  ì‹ì‚¬ ê¸°ë¡              â”‚    â”‚
â”‚ â”‚ ì‚¬ë£Œ 1ì»µ ê¸‰ì—¬ ì™„ë£Œ. ì‹ìš• ì–‘í˜¸ â”‚    â”‚
â”‚ â”‚ [ì‚¬ì§„1] [ì‚¬ì§„2]              â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ 11:00  ë†€ì´/í™œë™              â”‚    â”‚
â”‚ â”‚ ê³µë†€ì´ 30ë¶„. ë§¤ìš° ì¦ê±°ì›Œí•¨.   â”‚    â”‚
â”‚ â”‚ [ë™ì˜ìƒ ì¸ë„¤ì¼ â–¶]             â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                     â”‚
â”‚ <<< ì‚°ì±… íƒ­ ì„ íƒ ì‹œ >>>            â”‚
â”‚                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚                                 â”‚â”‚
â”‚ â”‚      [ì‹¤ì‹œê°„ ì§€ë„ ì˜ì—­]         â”‚â”‚
â”‚ â”‚     (ì‹œí„° ìœ„ì¹˜ + ê²½ë¡œ í‘œì‹œ)     â”‚â”‚
â”‚ â”‚                                 â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                     â”‚
â”‚  ê±°ë¦¬: 1.2km    ì‹œê°„: 25ë¶„          â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸

- **ì¼ì§€ íƒ­**: í´ë§ (30ì´ˆ ê°„ê²©) ë˜ëŠ” WebSocketìœ¼ë¡œ ìƒˆ í•­ëª© ìˆ˜ì‹ 
- **ì‚°ì±… íƒ­**: SSE ë˜ëŠ” WebSocketìœ¼ë¡œ GPS í¬ì¸íŠ¸ ì‹¤ì‹œê°„ ìˆ˜ì‹ 
- ìƒˆ í•­ëª© ì¶”ê°€ ì‹œ íƒ€ì„ë¼ì¸ ìƒë‹¨ì— ì• ë‹ˆë©”ì´ì…˜ìœ¼ë¡œ ì‚½ì…

### 5.3 ì‚°ì±… ì§€ë„ (WalkLiveMap)

- ì‹œí„° í˜„ì¬ ìœ„ì¹˜: íŒŒë€ìƒ‰ ë§ˆì»¤ (ì‹¤ì‹œê°„ ì´ë™)
- ì´ë™ ê²½ë¡œ: íŒŒë€ìƒ‰ í´ë¦¬ë¼ì¸
- ì§€ë„ ìë™ ì¶”ì : ì‹œí„° ìœ„ì¹˜ ì¤‘ì‹¬ìœ¼ë¡œ ìë™ ì´ë™ (í† ê¸€ ê°€ëŠ¥)

### 5.4 ìƒíƒœ ì²˜ë¦¬

| ìƒíƒœ | UI |
|------|-----|
| ë¡œë”© | ìŠ¤ì¼ˆë ˆí†¤ |
| ì¼ì§€ ì—†ìŒ | "ì•„ì§ ëŒë´„ ì¼ì§€ê°€ ì‹œì‘ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤" |
| ì‚°ì±… ì—†ìŒ | "í˜„ì¬ ì§„í–‰ ì¤‘ì¸ ì‚°ì±…ì´ ì—†ìŠµë‹ˆë‹¤" |
| ì‚°ì±… ì™„ë£Œ | ì™„ë£Œëœ ì‚°ì±… ê²½ë¡œ + ìš”ì•½ í‘œì‹œ |
| SSE ì—°ê²° ì‹¤íŒ¨ | "ì‹¤ì‹œê°„ ì—°ê²°ì´ ëŠì–´ì¡ŒìŠµë‹ˆë‹¤" + ì¬ì—°ê²° ë²„íŠ¼ |

---

## 6. íƒ€ì… ì •ì˜ (types/care.ts)

```typescript
// --- ì¼ì§€ ê´€ë ¨ ---

type JournalStatus = 'IN_PROGRESS' | 'COMPLETED';

type EntryType = 'MEAL' | 'BOWEL' | 'PLAY' | 'SNACK' | 'CONDITION' | 'FREE';

type CareMediaType = 'IMAGE' | 'VIDEO';

interface CareJournal {
  id: number;
  bookingId: number;
  partnerId: number;
  partnerNickname?: string;
  partnerProfileImageUrl?: string | null;
  summary: string | null;
  status: JournalStatus;
  startedAt: string;
  completedAt: string | null;
  entries: JournalEntry[];
  createdAt: string;
  updatedAt: string;
}

interface JournalEntry {
  id: number;
  journalId: number;
  entryType: EntryType;
  entryTypeName: string;
  content: string;
  recordedAt: string;
  media: JournalMedia[];
  createdAt: string;
}

interface JournalMedia {
  id: number;
  entryId: number;
  mediaType: CareMediaType;
  mediaUrl: string;
  thumbnailUrl: string | null;
}

interface CreateJournalEntryRequest {
  entryType: EntryType;
  content: string;
  recordedAt?: string;
}

interface CompleteJournalRequest {
  summary: string;
}

// --- ì‚°ì±… ê´€ë ¨ ---

type WalkStatus = 'TRACKING' | 'COMPLETED';

interface WalkTracking {
  id: number;
  bookingId: number;
  partnerId: number;
  status: WalkStatus;
  startedAt: string;
  endedAt: string | null;
  distanceMeters: number;
  durationMinutes: number;
  gpsPoints: GpsPoint[];
  createdAt: string;
}

interface GpsPoint {
  latitude: number;
  longitude: number;
  altitude?: number;
  speed?: number;
  recordedAt: string;
}

interface StartWalkRequest {
  latitude: number;
  longitude: number;
}

interface GpsBatchRequest {
  points: GpsPointInput[];
}

interface GpsPointInput {
  latitude: number;
  longitude: number;
  altitude?: number;
  speed?: number;
  recordedAt: string;
}

interface GpsBatchResponse {
  walkId: number;
  savedCount: number;
  totalPoints: number;
  currentDistanceMeters: number;
  currentDurationMinutes: number;
}

// --- SSE ì´ë²¤íŠ¸ ---

interface GpsUpdateEvent {
  walkId: number;
  latitude: number;
  longitude: number;
  speed: number | null;
  recordedAt: string;
  currentDistanceMeters: number;
  currentDurationMinutes: number;
}

interface WalkEndedEvent {
  walkId: number;
  endedAt: string;
  totalDistanceMeters: number;
  totalDurationMinutes: number;
}

// --- EntryType ë¼ë²¨ ë§¤í•‘ ---

const ENTRY_TYPE_LABELS: Record<EntryType, string> = {
  MEAL: 'ì‹ì‚¬ ê¸°ë¡',
  BOWEL: 'ë°°ë³€ ê¸°ë¡',
  PLAY: 'ë†€ì´/í™œë™',
  SNACK: 'ê°„ì‹',
  CONDITION: 'ì»¨ë””ì…˜ ì²´í¬',
  FREE: 'ììœ  ê¸°ë¡',
};
```

---

## 7. API ì„œë¹„ìŠ¤ (api/care.ts)

```typescript
const careApi = {
  // ì‹œí„° API
  startJournal: (bookingId: number) =>
    client.post<CareJournal>(`/api/v1/partner/bookings/${bookingId}/journal`),

  addEntry: (journalId: number, data: CreateJournalEntryRequest) =>
    client.post<JournalEntry>(`/api/v1/partner/journals/${journalId}/entries`, data),

  uploadMedia: (entryId: number, file: File) => {
    const formData = new FormData();
    formData.append('file', file);
    return client.post<JournalMedia>(
      `/api/v1/partner/entries/${entryId}/media`,
      formData,
      { headers: { 'Content-Type': 'multipart/form-data' } }
    );
  },

  completeJournal: (journalId: number, data: CompleteJournalRequest) =>
    client.put<CareJournal>(`/api/v1/partner/journals/${journalId}/complete`, data),

  startWalk: (bookingId: number, data: StartWalkRequest) =>
    client.post<WalkTracking>(`/api/v1/partner/bookings/${bookingId}/walk/start`, data),

  sendGpsPoints: (walkId: number, data: GpsBatchRequest) =>
    client.post<GpsBatchResponse>(`/api/v1/partner/walks/${walkId}/gps`, data),

  endWalk: (walkId: number) =>
    client.put<WalkTracking>(`/api/v1/partner/walks/${walkId}/end`),

  // ë°˜ë ¤ì¸ API
  getJournal: (bookingId: number) =>
    client.get<CareJournal>(`/api/v1/bookings/${bookingId}/journal`),

  getWalks: (bookingId: number) =>
    client.get<{ walks: WalkTracking[] }>(`/api/v1/bookings/${bookingId}/walk`),
};
```

---

## 8. ì»¤ìŠ¤í…€ í›…

```typescript
// useCareJournal.ts - ëŒë´„ ì¼ì§€ ê´€ë¦¬
const {
  journal,          // CareJournal | null
  loading,          // boolean
  error,            // Error | null
  startJournal,     // () => Promise<void>
  addEntry,         // (data: CreateJournalEntryRequest) => Promise<void>
  uploadMedia,      // (entryId: number, file: File) => Promise<void>
  completeJournal,  // (summary: string) => Promise<void>
  refetch,          // () => void
} = useCareJournal(bookingId);

// useWalkTracking.ts - ì‹œí„° ì‚°ì±… íŠ¸ë˜í‚¹
const {
  walk,             // WalkTracking | null
  isTracking,       // boolean
  distance,         // number (meters)
  duration,         // number (minutes)
  startWalk,        // () => Promise<void>
  endWalk,          // () => Promise<void>
} = useWalkTracking(bookingId);

// useWalkLive.ts - ë°˜ë ¤ì¸ ì‹¤ì‹œê°„ GPS êµ¬ë…
const {
  currentPosition,  // GpsPoint | null
  route,            // GpsPoint[]
  isConnected,      // boolean
  distance,         // number (meters)
  duration,         // number (minutes)
  reconnect,        // () => void
} = useWalkLive(bookingId);
```
